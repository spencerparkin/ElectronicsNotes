<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RC Circuit</title>
    <script type="text/javascript" async
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"
            async></script>
</head>
    <body>
        <h1>RC Circuit</h1>
        <p>
            The RC circuit is fundamental to the understanding of capacitors.  It is as follows.
        </p>
        <center><img src="images/rc_circuit.png"></center>
        <h2>Charging the Capacitor</h2>
        <p>
            We have here a battery supplying voltage \(V_{bat}\), a resistor of resistance \(R\),
            and a capacitor of capacitance \(C\).
            These are our constants.  Interestingly, however, the voltages across the capacitor
            and resistor will change over time.  Their sum, of course, will always be \(V_{bat}\)
            according to Kirchhoff's voltage law.  Initially, the voltage across the resistor
            will be \(V_{bat}\) while that of the capacitor will be zero, over time the tables
            will turn, then finally, these
            will swap.  We want to know how this happens over time.  The first two equations
            we need are immediate from our study of Ohm's Law and Kirchhoff's Laws.
            $$
            \begin{align}
            V_R(t) &= RI(t) \\
            V_{bat} &= V_C(t) + V_R(t)
            \end{align}
            $$
            Now let \(Q(t)\) denote the charge of the capacitor at time \(t\).
            We then have...
            $$
            V_C(t) = \frac{Q(t)}{C}.
            $$
            Recall that the rate of change is related to current by...
            $$
            \frac{d}{dt}Q(t) = I(t)
            $$
            Combining all the equations we have now, it is not hard to find the differential equation for
            the rate of change of the voltage of the capacitor.  Doing so, we arrive at...
            $$
            \frac{d}{dt}V_C(t) = \frac{V_{bat} - V_C(t)}{RC},
            $$
            ...which is actually quite intuitive.  The rate of change of the voltage
            of the capacitor is directly proportional to its distance from the battery voltage,
            and inversly proportional to the resistance \(R\) and capacitance \(C\).
            (I almost wrote down this very equation when I took a guess at what it should be.)
        </p>
        <p>
            Anyhow, it is a 1st-order linear differential equation, and one that is not terribly
            easy to solve.  You must use an integration factor.  Skipping those details, one can
            verify that the following is a solution to the DE, if our initial condition is \(V_C(0)=0\).
            $$
            V_C(t) = V_{bat}(1 - e^{-t/RC})
            $$
            With this equation, we can now calculate how much time it takes to charge the capacitor
            to within a given percentage of the battery's voltage.
        </p>
        <p>
            Note that it is just as important to understand how current changes over time as it is
            to understand how the voltage changes over time.  Without needing to solve another DE,
            we can use what equations we already have to find that...
            $$
            I(t) = \frac{V_{bat}}{R}e^{-t/RC}
            $$
            This shows that the current goes to zero as the voltage of the capacitor reaches that
            of the battery.  This may be useful when combined with a transistor so that we can
            time the flipping of a switch on or off.
        </p>
        <h2>Discharging the Capacitor</h2>
        <p>
            Throwing the switch in the circuit diagram above, we now have a circuit involving
            just the resistor and the capacitor.  With the battery removed, we now have...
            $$
            V_C(t) = V_R(t).
            $$
            ...and we now have...
            $$
            \frac{d}{dt}Q(t) = -I(t).
            $$
            Note that this is not because the direction of current has changed.  Yes, in reality,
            conventional current is now winding CCW instead of CW as before, but this is not why we
            negate \(I\) here.
            The reason we do it is because current is now being drawn from the capacitor rather than
            being run through it.
            If we were to argue that the direction of current has changed, we would be wrong in terms
            of an analysis of the circuit, because in both cases (the charging case, and the discharging case),
            we're considering conventional current from the perspective of the source of electrical energy,
            whether that's the battery or the capacitor.
        </p>
        <p>
            Anyhow, with all our information gathered, we can now easily arrive at the DE...
            $$
            \frac{d}{dt}V_C(t) = \frac{-1}{RC}V_C(t),
            $$
            ...witch an initial condition of \(V_C(0)=V_{bat}\), if we let the capicotor fully charge.
            This is much easier to solve, and is simply...
            $$
            V_C(t) = V_{bat}e^{-t/RC}.
            $$
            We can now use this to calculate how much time it takes for the capacitor to discharge.
        </p>
        <p>
            Notice that, as before, when we try to now find \(I(t)\), we get the same result.
        </p>
        <h2>References</h2>
        <ol>
            <li><a href="https://www.youtube.com/watch?v=Pwe0-H3q6a0">https://www.youtube.com/watch?v=Pwe0-H3q6a0</a></li>
        </ol>
    </body>
</html>